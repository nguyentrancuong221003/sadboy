<script setup lang="ts">
    import { ref, computed, watch } from 'vue';
    import { useStore } from 'vuex';
    import Comments from '@/components/body/product/detail/comments.vue'
    import { Carousel, Slide, Navigation } from 'vue3-carousel'
    import Editor from '@tinymce/tinymce-vue';
    import 'vue3-carousel/dist/carousel.css'
    const currentSlide = ref(0)
    const carousel = ref(null)
    const imgRefs = ref([])
    const scrollImg = ref(null)
    const imgs=ref([
        '/images/img_product/product_img-5B.png',
        '/images/img_product/product_img-5A.jpg',
        '/images/img_product/product_img-5.png',
        '/images/img_product/product_img-5C.jpg',
        '/images/img_product/product_img-5D.jpg',
        '/images/img_product/product_img-5E.jpg'
    ])
    watch(currentSlide, (newVal) => {
        const el = imgRefs.value[newVal]
        if (el && scrollImg.value) {
            el.scrollIntoView({
            behavior: 'smooth',
            inline: 'center',
            block: 'nearest'
            })
        }
    })

    function goNext() {
    carousel.value?.next()
    }
    function goPrev() {
    carousel.value?.prev()
    }
    const checka=ref("Xin chàoa")
    const color = ref('#3490dc')
    const date = ref()
    const imagesUploadHandler = (blobInfo: any, success: Function, failure: Function) => {
        const reader = new window.FileReader();
        reader.readAsDataURL(blobInfo.blob());
        reader.onload = () => {
            success(reader.result as string);
        };
        reader.onerror = () => {
            failure('Image upload failed');
        };


    };
    const editorInit = {
        toolbar_mode: 'sliding',
        plugins: [
            'link', 'image', 'lists', 'media', 'table', 'wordcount', 'emoticons', 'code', 'lineheight',
        ],
        toolbar: 'undo redo | bold italic underline | alignleft aligncenter alignright | bullist numlist| lineheight | image media link | code',
        images_upload_handler: imagesUploadHandler,
        selector: 'textarea',

        file_picker_types: 'image',
        file_picker_callback: (callback: Function) => {
            const input = document.createElement('input');
            input.setAttribute('type', 'file');
            input.setAttribute('accept', 'image/*');
            input.onchange = function () {
            const file = input.files![0];
            const reader = new FileReader();
            reader.onload = function () {
                const base64 = reader.result as string;
                callback(base64, { title: file.name });
            };
            reader.readAsDataURL(file);
            };
            input.click();
        },
    };
    const store=useStore();
    const edit_product=ref(true);
    const isDark = computed( () => store.state.isDark)
    function toggle_edit(){
        edit_product.value = !edit_product.value
        console.log(edit_product.value)
    }
</script>

<template>
    <div class="bg-white dark:bg-gray-800 dark:text-white flex items-center transition-all duration-500 dark:border-[var(--dark_maincolor)] text-lg pl-1 border-l-5 mb-4 border-[var(--maincolor)]  font-bold mt-2">
        <router-link :to="{name: 'product_ad'}">
            <font-awesome-icon :icon="['fas', 'arrow-left']"  class="mt-1 cursor-pointer text-2xl p-3 hover:text-[var(--maincolor)]  hover:scale-[1.2] transition-all duration-200  dark:text-gray-300 dark:hover:text-[var(--dark_maincolor)]" />
        </router-link>
        <p>Thông tin chi tiết của sản phẩm</p>
    </div>
    <form action="" class="">
        <div class="grid grid-cols-12 px-10 gap-5 bg-white dark:bg-gray-900 transition-all duration-500 font-(family-name:--font-noto) pb-10">
            <div class="col-span-12 gap-5 flex border-b-1 border-[var(--color_border)] ">
                <div class="col-span-6 flex-1 flex flex-col items-center justify-center">
                    <div class="flex items-center px-1 -mt-5">
                        <button
                            type="button"    
                            @click="goPrev"
                            class="px-4 py-3 text-4xl hover:scale-[1.5] cursor-pointer transition-all duration-300 dark:text-white"
                        >
                            <font-awesome-icon :icon="['fas', 'angle-left']" class="text-[var(--color_text-gray)] dark:text-gray-300" />
                        </button>
                        <Carousel
                            ref="carousel"
                            :model-value="currentSlide"
                            @update:modelValue="currentSlide = $event"
                            :items-to-show="1"
                            :wrap-around="true"
                            :mouse-drag="true"
                            class="rounded-lg overflow-hidden"
                        >
                            <Slide v-for="(img, index) in imgs" :key="index" class="">
                                <div class="flex-1 px-1 py-15 h-100">
                                    <img :src="img" alt="" class="w-full h-full rounded-sm">
                                </div>
                            </Slide>
                        </Carousel>
                        <button
                            type="button"   
                            @click="goNext"
                            class="px-4 py-3 text-4xl hover:scale-[1.5] cursor-pointer transition-all duration-300 dark:text-white"
                        >
                            <font-awesome-icon :icon="['fas', 'angle-right']" class="text-[var(--color_text-gray)] dark:text-gray-300" />
                        </button>
                    </div>

                    <div v-show="!edit_product" class="-mt-5 mb-10">
                        <p class="font-bold mb-3 dark:text-white">Ảnh sản phẩm</p>
                        <label for="uploadimg_product" class="cursor-pointer text-white font-(family-name:--font-winky) py-2 px-10 rounded-sm bg-blue-900 dark:bg-blue-700">
                            <font-awesome-icon :icon="['fas', 'cloud-arrow-up']" />
                            <span class="ml-2">Chọn ảnh</span>
                        </label>
                        <input type="file" id="uploadimg_product" class="hidden">
                        <div class="flex items-center flex-wrap mt-1">
                            <div v-for="i in 3" :key="i" class="mr-5">
                                <font-awesome-icon class="px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded-full cursor-pointer border-1 border-black dark:border-gray-500 relative left-21 top-4" :icon="['fas', 'xmark']" />
                                <img src="@/assets/images/img_product/product_img-3.png" class="w-25 h-20 border-1 border-black dark:border-gray-500 rounded-sm" alt="">
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-span-6 flex-1 ">
                    <div class="flex flex-col mt-10 font-(family-name:--font-noto)">
                        <div class="flex items-center justify-between">
                        <p v-if="edit_product" class="font-bold text-xl dark:text-white">Quả dưa hấu</p>
                        <div v-else class="flex flex-col items-start gap-2">
                            <label for="nameproduct" class="font-bold dark:text-white">Tên sản phẩm: </label>
                            <input type="text" name="nameproduct" id="nameproduct" class="w-full border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500  dark:bg-gray-800 dark:text-white rounded-sm p-1">
                            <span class="text-red-500 -mt-1 block text-sm"></span>
                        </div>

                        <div @click="toggle_edit()" class="cursor-pointer flex items-center px-3 gap-2 bg-yellow-200 dark:bg-yellow-700 py-1 rounded-sm border-1 border-yellow-900 dark:border-yellow-600 hover:scale-[1.1] transition-all duration-300 hover:bg-yellow-300 dark:hover:bg-yellow-500">
                            <font-awesome-icon :icon="['fas', 'pen-to-square']" class="text-yellow-900 dark:text-yellow-300 text-xl" />
                            <p class="font-bold text-yellow-900 dark:text-yellow-300">Chỉnh sửa</p>
                        </div>
                    </div>

                    <div>
                        <p v-if="edit_product" class="mt-4 italic text-sm dark:text-gray-300">
                            Quả dưa hấu là một loại trái cây ngọt, mọng nước, thường có vỏ xanh và ruột đỏ, rất giàu vitamin và khoáng chất. Loại quả này không chỉ có hương vị thơm ngon.
                        </p>
                        <textarea v-else name="" id="" class="w-full border-1 mt-4 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500  dark:bg-gray-800 dark:text-white rounded-sm p-1"></textarea>
                        <span class="text-red-500 -mt-1 block text-sm"></span>
                    </div>

                    <div class="flex items-center mt-4">
                        <p class="font-bold block w-35 dark:text-white">Danh mục: </p>
                        <p v-if="edit_product" class="-ml-12 italic dark:text-gray-300">Fruit</p>
                        <div v-else class="ml-3 w-full flex flex-col col-span-3">
                            <Menu as="div" class="relative block text-left">
                                <MenuButton class="w-full">
                                    <div class="bg-white dark:bg-gray-800 border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500  py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer dark:text-white">
                                        <span>--Fruit--</span>
                                        <font-awesome-icon :icon="['fas', 'angle-down']" />
                                    </div>
                                </MenuButton>

                                <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border dark:border-gray-600 transition-all duration-500  rounded-md shadow-lg z-50">
                                    <div class="py-1">
                                        <MenuItem class="mb-1 cursor-pointer">
                                            <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-[var(--background-color-gray)] dark:hover:bg-gray-600 capitalize dark:text-white">Fruit</p>
                                        </MenuItem>
                                        <MenuItem class="mb-1 cursor-pointer">
                                            <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-[var(--background-color-gray)] dark:hover:bg-gray-600 capitalize dark:text-white">fruit juicy</p>
                                        </MenuItem>
                                        <MenuItem class="mb-1 cursor-pointer">
                                            <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-[var(--background-color-gray)] dark:hover:bg-gray-600 capitalize dark:text-white">vegetable</p>
                                        </MenuItem>
                                        <MenuItem class="mb-1 cursor-pointer">
                                            <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-[var(--background-color-gray)] dark:hover:bg-gray-600 capitalize dark:text-white">fast food</p>
                                        </MenuItem>
                                    </div>
                                </MenuItems>
                            </Menu>
                            <span class="text-red-500 mt-1 block text-sm"></span>
                        </div>
                    </div>
                        <div class="flex mt-9 scrollbar-hide overflow-x-scroll" ref="scrollImg" >
                            <img v-for="(img, index) in imgs" 
                                v-on:click="currentSlide=index" 
                                :key="index"
                                :ref="el => imgRefs[index] = el" 
                                :class="index==currentSlide ? 'border-2 border-[var(--color_border)]' : 'border-1 border-[var(--color_border)]'" 
                                class="w-25 h-25 mr-3 p-1 rounded-sm  cursor-pointer" 
                                :src="img" 
                            alt="">
                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-span-4 mt-2">
                <p class="text-xl font-bold dark:text-white">Thông tin sản phẩm</p>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Mã sản phẩm: </p>
                    <p v-if="edit_product" class="italic font-bold dark:text-gray-100">1234567890</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500  dark:bg-gray-800 dark:text-white rounded-sm p-1">
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="w-35 dark:text-gray-300">Giá nhập: </p>
                    <p v-if="edit_product" class="italic dark:text-gray-100">100000 VNĐ</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500  dark:bg-gray-800 dark:text-white rounded-sm p-1">
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Ngày thêm sản phẩm: </p>
                    <p v-if="edit_product" class="italic dark:text-gray-100">15-07-2025</p>
                    <div :class="isDark ? 'dark' : 'light' " class="w-full" v-else>
                        <VueDatePicker
                            class="dark:bg-gray-800 transition-all duration-500 bg-white mt-1 rounded-sm dark:text-white"
                            v-model="date"
                            :enable-time-picker="false"
                            input-class="border dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-md px-4 py-2 text-sm"
                            menu-class="rounded-lg dark:bg-gray-800 dark:text-white"
                        />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </div>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Quà tặng đi kèm: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">Có</p>
                    <template v-else>
                        <Menu as="div" class="relative w-full block text-left">
                            <MenuButton class="w-full">
                                <div class="bg-white dark:bg-gray-800 border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer dark:text-white">
                                    <span>--Không--</span>
                                    <font-awesome-icon :icon="['fas', 'angle-down']" />
                                </div>
                            </MenuButton>
                            <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border dark:border-gray-600 transition-all duration-500 rounded-md shadow-lg z-50">
                                <div class="py-1">
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white">Có</p>
                                    </MenuItem>
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white">Không</p>
                                    </MenuItem>
                                </div>
                            </MenuItems>
                        </Menu>
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Nơi bán: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">Hà Nội</p>
                    <template v-else>
                        <Menu as="div" class="relative w-full block text-left">
                            <MenuButton class="w-full">
                                <div class="bg-white dark:bg-gray-800 border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer dark:text-white">
                                    <span>--Hà Nội--</span>
                                    <font-awesome-icon :icon="['fas', 'angle-down']" />
                                </div>
                            </MenuButton>
                            <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border dark:border-gray-600 transition-all duration-500 rounded-md shadow-lg z-50">
                                <div class="py-1">
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white">Hà Nội</p>
                                    </MenuItem>
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white">Hưng Yên</p>
                                    </MenuItem>
                                </div>
                            </MenuItems>
                        </Menu>
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div class="flex items-center justify-between mt-2">
                    <p class="dark:text-gray-300">Đánh giá: </p>
                    <p class="dark:text-gray-100">4.9</p>
                </div>
                <div class="flex items-center justify-between mt-2">
                    <p class="dark:text-gray-300">Số lượt bình luận: </p>
                    <p class="dark:text-gray-100">49</p>
                </div>
            </div>
            <div class="col-span-4 mt-2">
                <p class="text-xl font-bold dark:text-white">Giá trị khuyến mại</p>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Giá khuyến mại: </p>
                    <p v-if="edit_product" class="text-green-500 dark:text-green-400">15.000 VNĐ</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-sm p-1">
                        <span class="text-red-500 dark:text-red-400 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Giá khuyến mại: </p>
                    <p v-if="edit_product" class="text-green-500 dark:text-green-400">15.000 VNĐ</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-sm p-1">
                        <span class="text-red-500 dark:text-red-400 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div class="flex items-center justify-between mt-2">
                    <p class="dark:text-gray-300">Tỷ lệ giảm giá: </p>
                    <p class="dark:text-gray-100">20%</p>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Ngày bắt đầu khuyến mại: </p>
                    <p v-if="edit_product" class="italic dark:text-gray-100">15-07-2025</p>
                    <div :class="isDark ? 'dark' : 'light' " class="w-full" v-else>
                        <VueDatePicker
                            class="dark:bg-gray-800 transition-all duration-500 bg-white mt-1 rounded-sm dark:text-white"
                            v-model="date"
                            :enable-time-picker="false"
                            input-class="border dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-md px-4 py-2 text-sm"
                            menu-class="rounded-lg dark:bg-gray-800 dark:text-white"
                        />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </div>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Ngày hết hạn: </p>
                    <p v-if="edit_product" class="italic dark:text-gray-100">20-07-2025</p>
                    <div :class="isDark ? 'dark' : 'light' " class="w-full" v-else>
                        <VueDatePicker
                            class="dark:bg-gray-800 transition-all duration-500 bg-white mt-1 rounded-sm dark:text-white"
                            v-model="date"
                            :enable-time-picker="false"
                            input-class="border dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-md px-4 py-2 text-sm"
                            menu-class="rounded-lg dark:bg-gray-800 dark:text-white"
                        />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </div>
                </div>
            </div>
            <div class="col-span-4 mt-2">
                <p class="text-xl font-bold dark:text-white">Thông tin tồn kho</p>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Số lượng còn lại trong kho: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">30</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-sm p-1" />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Số lượng đã bán: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">50</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-sm p-1" />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Mã vạch: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">1234567890</p>
                    <template v-else>
                        <input type="text" class="w-full border-1 mt-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-sm p-1" />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Nhà cung cấp: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">Nhà cung cấp A</p>
                    <template v-else>
                        <Menu as="div" class="relative w-full block text-left">
                        <MenuButton class="w-full">
                            <div class="bg-white dark:bg-gray-800 border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer dark:text-white">
                                <span>--Nhà cung cấp A--</span>
                                <font-awesome-icon :icon="['fas', 'angle-down']" />
                            </div>
                        </MenuButton>
                        <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border dark:border-gray-600 transition-all duration-500 rounded-md shadow-lg z-50">
                            <div class="py-1">
                                <MenuItem class="mb-1 cursor-pointer">
                                    <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white">Nhà cung cấp A</p>
                                </MenuItem>
                                <MenuItem class="mb-1 cursor-pointer">
                                    <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white" > Nhà cung cấp B </p>
                                </MenuItem>
                            </div>
                        </MenuItems>
                        </Menu>
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Tình trạng: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">Còn hàng</p>
                    <template v-else>
                        <Menu as="div" class="relative w-full block text-left">
                            <MenuButton class="w-full">
                                <div class="bg-white dark:bg-gray-800 border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer dark:text-white">
                                    <span>--Chọn tình trạng--</span>
                                    <font-awesome-icon :icon="['fas', 'angle-down']" />
                                </div>
                            </MenuButton>
                            <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border dark:border-gray-600 transition-all duration-500 rounded-md shadow-lg z-50" >
                                <div class="py-1">
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 bg-green-400 rounded-[0.2rem]">Còn hàng</p>
                                    </MenuItem>
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 bg-red-400 rounded-[0.2rem]">Hết hàng</p>
                                    </MenuItem>
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 bg-yellow-400 rounded-[0.2rem]">Đang nhập hàng</p>
                                    </MenuItem>
                                </div>
                            </MenuItems>
                        </Menu>
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Kho hàng: </p>
                    <p v-if="edit_product" class="dark:text-gray-100">Kho hàng số 1</p>
                    <template v-else>
                        <Menu as="div" class="relative w-full block text-left">
                            <MenuButton class="w-full">
                                <div class="bg-white dark:bg-gray-800 border-1 border-[var(--color_border)] dark:border-gray-600 transition-all duration-500 py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer dark:text-white">
                                    <span>--Chọn kho hàng--</span>
                                    <font-awesome-icon :icon="['fas', 'angle-down']" />
                                </div>
                            </MenuButton>
                            <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border dark:border-gray-600 transition-all duration-500 rounded-md shadow-lg z-50" >
                                <div class="py-1">
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white" > kho hàng số 1 </p>
                                    </MenuItem>
                                    <MenuItem class="mb-1 cursor-pointer">
                                        <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-600 capitalize dark:text-white" > kho hàng số 2 </p>
                                    </MenuItem>
                                </div>
                            </MenuItems>
                        </Menu>
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
            </div>
            <div class="col-span-12 border-t-1 border-[var(--color_border)]"></div>
            <div class="col-span-4">
                <p class="text-xl font-bold dark:text-white">Thông tin quả trị</p>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Trạng thái hiển thị</p>
                    <p v-if="edit_product" class="dark:text-gray-200">Hiện thị</p>
                    <template v-else>
                        <Menu as="div" class="relative w-full block text-left">
                            <MenuButton class="w-full">
                                <div class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 py-1 mt-1 rounded-sm text-left flex items-center justify-between px-2 cursor-pointer text-gray-900 dark:text-gray-100" >
                                    <span>--Hiện thị--</span>
                                    <font-awesome-icon :icon="['fas', 'angle-down']" class="dark:text-gray-100" />
                                </div>
                            </MenuButton>
                            <MenuItems class="absolute left-0 mt-2 w-full p-1 origin-top-right bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-lg z-50" >
                                <div class="py-1">
                                <MenuItem class="mb-1 cursor-pointer">
                                    <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-700 capitalize dark:text-gray-100" > Hiển thị </p>
                                </MenuItem>
                                <MenuItem class="mb-1 cursor-pointer">
                                    <p class="block px-2 py-1 rounded-[0.2rem] hover:bg-gray-200 dark:hover:bg-gray-700 capitalize dark:text-gray-100" > Ẩn </p>
                                </MenuItem>
                                </div>
                            </MenuItems>
                        </Menu>
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Ngày được thêm vào:</p>
                    <p v-if="edit_product" class="italic dark:text-gray-400">10-07-2025</p>
                    <div :class="isDark ? 'dark' : 'light' " class="w-full" v-else>
                        <VueDatePicker
                            class="dark:bg-gray-800 transition-all duration-500 bg-white mt-1 rounded-sm dark:text-white"
                            v-model="date"
                            :enable-time-picker="false"
                            input-class="border dark:border-gray-600 transition-all duration-500 dark:bg-gray-800 dark:text-white rounded-md px-4 py-2 text-sm"
                            menu-class="rounded-lg dark:bg-gray-800 dark:text-white"
                        />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </div>
                </div>
                <div :class="edit_product ? 'items-center justify-between' : 'flex-col items-start justify-start'" class="flex mt-2">
                    <p class="dark:text-gray-300">Người chỉnh sửa:</p>
                    <p v-if="edit_product" class="italic dark:text-gray-400">Trần Đình Duy</p>
                    <template v-else>
                        <input type="text" class="w-full border border-gray-300 dark:border-gray-700 mt-1 rounded-sm p-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100" />
                        <span class="text-red-500 mt-1 block text-sm"></span>
                    </template>
                </div>
                <div class="flex items-center justify-between mt-2">
                    <p class="dark:text-gray-300">Đơn vị tính:</p>
                    <p class="dark:text-gray-200">Cân</p>
                </div>
            </div>
            <div class="col-span-12 mt-5 text-sm">
                <p  class="font-bold text-xl dark:text-white">Mô tả sản phẩm:</p>
                <div class="mt-2 dark:text-gray-300 dark:bg-gray-800 p-2 rounded">
                    <div v-if="edit_product">   
                        Mổ tả ở đây 
                    </div>
                    <template v-else>
                        <Editor
                            api-key="peas03g0bwumpx7ivb4cuhrck2dfd1lpkmjsxqyljojpxyez"
                            v-model="checka"
                            :init="editorInit"
                        /> 
                    </template>
                </div>
            </div>
            <div class="col-span-12 flex items-center">
                <div class="px-15 cursor-pointer py-1.5 rounded-sm mr-5 bg-green-300 dark:bg-green-700 hover:bg-green-200 dark:hover:bg-green-600 hover:text-black dark:hover:text-white hover:scale-[1.1] duration-300 transition-all text-green-900 dark:text-green-100 font-bold border-1 border-green-900 dark:border-green-600">
                    Lưu lại
                </div>
                <div class="px-15 py-1.5 cursor-pointer rounded-sm mr-3 bg-red-300 dark:bg-red-700 hover:bg-red-200 dark:hover:bg-red-600 hover:text-black dark:hover:text-white hover:scale-[1.1] duration-300 transition-all text-red-900 dark:text-red-100 font-bold border-1 border-red-900 dark:border-red-600">
                    Huỷ bỏ
                </div>
            </div>
            <div class="col-span-12 text-sm">
                <p class="dark:text-white dark:bg-gray-800 p-3 rounded-ssm">Bình luận về sản phẩm</p>
                <comments v-for="i in 3" :key="i" class="" />
            </div>
            
        </div>
    </form>
    
  
</template>

<style scoped>
:deep(.dp__input) {
    height: 2rem; /* h-10 */
    background-color: transparent; /* bg-gray-200 */
    padding:  1rem 2rem 1rem 2rem; /* py-2 px-4 */
    border-radius: 0.375rem; /* rounded-md */
    font-size: 0.875rem;
    border: 1px solid var(--color_border);
}
/* :deep(.dp__input_icon) {
  
}
:deep(.dp--clear-btn){
    margin-top: 0.5px;
} */
.dark :deep(.dp__input) {
  color: white;
}
.light :deep(.dp__input) {
  color: black;
}
</style>
